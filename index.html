<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>DevTools Snippets</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="devtools-snippets is a collection of helpful JavaScript code snippets to use inside of browser devtools.">
<meta name="author" content="Brian Grinstead, devtools-snippets contributors">
<link href="docs/styles.css" rel="stylesheet">
</head>
<body>
    <div class="wrapper">
      <div class="header">
        <h1>DevTools Snippets</h1>
        <h2>A collection of helpful snippets to use inside of browser devtools</h2>
        <a id="project-link" href="https://github.com/bgrins/devtools-snippets">View Project On Github</a>
      </div>
      <div class="content">
        <div class="alert">
          <p>
            <strong>Instructions:</strong>  The snippets can be used in any browser console.  Chrome provides a '<a href="https://github.com/bgrins/devtools-snippets#to-enable-devtools-snippets-in-chrome">snippets</a>' feature that can be used to manage the scripts, while Firefox has a '<a href="https://developer.mozilla.org/en-US/docs/Tools/Scratchpad">scratchpad</a>' feature that lets you run, edit, and save chunks of JavaScript.
          </p>
          <p>
            View the <a href="https://github.com/bgrins/devtools-snippets">devtools-snippets project page</a>.   For more information about using them in your favorite browser, check out the <a href="https://github.com/bgrins/devtools-snippets/blob/master/README.md">README</a>.  Here is an <a href="http://www.briangrinstead.com/blog/devtools-snippets"> article about snippets</a> detailing why you might use them and additional features that would be nice.
          </p>
        </div>
        <hr>
<h3>
          <a href="snippets/jquerify.js">jquerify.js</a>
          <a id="jquerify" href="#jquerify">#</a>
        </h3>
        <p>
          Includes jQuery onto a page if it is not yet included.
        </p>
        <div class="screenshot">
          <img src="screenshots/jquerify.png" alt="jquerify.js snippet" title="jquerify.js snippet">
</div>
        <div class="snippet" data-src="snippets/jquerify.js">
<div class="highlight"><pre><span class="c1">// jquerify.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Add jQuery to any page that does not have it already.</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

  <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
    <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'src'</span><span class="p">,</span> <span class="s1">'//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js'</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/log.js">log.js</a>
          <a id="log" href="#log">#</a>
        </h3>
        <p>
          Adds a `log` function to window object.
        </p>
        <div class="screenshot">
          <img src="screenshots/log.png" alt="log.js snippet" title="log.js snippet">
</div>
        <div class="snippet" data-src="snippets/log.js">
<div class="highlight"><pre><span class="c1">// log.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Adds a `log` function to window object.</span>
<span class="c1">// http://www.briangrinstead.com/blog/console-log-helper-function</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="nb">window</span><span class="p">.</span><span class="nx">log</span> <span class="o">=</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bind</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">,</span> <span class="nx">console</span><span class="p">);</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/showheaders.js">showheaders.js</a>
          <a id="showheaders" href="#showheaders">#</a>
        </h3>

        <p>
          Pretty prints the HTTP headers for the current page into the console.  <em>Uses console.table</em>
        </p>
        <div class="screenshot">
          <img src="screenshots/showheaders.png" alt="showheaders.js snippet" title="showheaders.js snippet">
</div>
        <div class="snippet" data-src="snippets/showheaders.js">
<div class="highlight"><pre><span class="c1">// showheaders.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Print out response headers for current URL.</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">request</span><span class="o">=</span><span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
  <span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'HEAD'</span><span class="p">,</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">,</span><span class="kc">false</span><span class="p">);</span>
  <span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">tab</span> <span class="o">=</span> <span class="nx">headers</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"\n"</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s2">"Key"</span><span class="o">:</span> <span class="nx">h</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">": "</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">"Value"</span><span class="o">:</span> <span class="nx">h</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">": "</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">}).</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">h</span><span class="p">.</span><span class="nx">Value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">;</span> <span class="p">});</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"Request Headers"</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">headers</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">tab</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"Request Headers"</span><span class="p">);</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/dataurl.js">dataurl.js</a>
          <a id="dataurl" href="#dataurl">#</a>
        </h3>

        <p>
          Convert all images on the page to data URLs.  <small>Note: this only works for images that are on the same domain as the current page</small>
        </p>
        <div class="screenshot">
          <img src="screenshots/dataurl.png" alt="dataurl.js snippet" title="dataurl.js snippet">
</div>
        <div class="snippet" data-src="snippets/dataurl.js">
<div class="highlight"><pre><span class="c1">// dataurl.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Print out data URLs for all images / canvases on the page.</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"Data URLs"</span><span class="p">);</span>

  <span class="p">[].</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">"img"</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"canvas"</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">);</span>
    <span class="nx">c</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
    <span class="nx">c</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>

    <span class="k">try</span> <span class="p">{</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s2">"No Permission - try opening this image in a new tab and running the snippet again?"</span><span class="p">,</span> <span class="nx">i</span><span class="p">.</span><span class="nx">src</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="p">[].</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">"canvas"</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="s2">"No Permission"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"Data URLs"</span><span class="p">);</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/allcolors.js">allcolors.js</a>
          <a id="allcolors" href="#allcolors">#</a>
        </h3>
        <p>
          Print out all the colors used in elements on the page by reading computed styles.  Reads the <code>color</code>, <code>background-color</code>, and <code>border-color</code> properties.  <em>Uses styled console.log calls to visualize each color</em>.
        </p>
        <div class="screenshot">
          <img src="screenshots/allcolors.png" alt="allcolors.js snippet" title="allcolors.js snippet">
</div>
        <div class="snippet" data-src="snippets/allcolors.js">
<div class="highlight"><pre><span class="c1">// allcolors.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Print out CSS colors used in elements on the page.</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">allColors</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="kd">var</span> <span class="nx">props</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"background-color"</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">,</span> <span class="s2">"border-top-color"</span><span class="p">,</span> <span class="s2">"border-right-color"</span><span class="p">,</span> <span class="s2">"border-bottom-color"</span><span class="p">,</span> <span class="s2">"border-left-color"</span><span class="p">];</span>
  <span class="kd">var</span> <span class="nx">skipColors</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"rgb(0, 0, 0)"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"rgba(0, 0, 0, 0)"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"rgb(255, 255, 255)"</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>

  <span class="p">[].</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">"*"</span><span class="p">),</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">nodeColors</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">props</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">prop</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="kc">null</span><span class="p">).</span><span class="nx">getPropertyValue</span><span class="p">(</span><span class="nx">prop</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">color</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">skipColors</span><span class="p">[</span><span class="nx">color</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">allColors</span><span class="p">[</span><span class="nx">color</span><span class="p">])</span> <span class="p">{</span>
          <span class="nx">allColors</span><span class="p">[</span><span class="nx">color</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">count</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">nodes</span><span class="o">:</span> <span class="p">[]</span>
          <span class="p">};</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">nodeColors</span><span class="p">[</span><span class="nx">color</span><span class="p">])</span> <span class="p">{</span>
          <span class="nx">allColors</span><span class="p">[</span><span class="nx">color</span><span class="p">].</span><span class="nx">count</span><span class="o">++</span><span class="p">;</span>
          <span class="nx">allColors</span><span class="p">[</span><span class="nx">color</span><span class="p">].</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">nodeColors</span><span class="p">[</span><span class="nx">color</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">allColorsSorted</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">allColors</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">allColorsSorted</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
      <span class="nx">key</span><span class="o">:</span> <span class="nx">i</span><span class="p">,</span>
      <span class="nx">value</span><span class="o">:</span> <span class="nx">allColors</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
    <span class="p">});</span>
  <span class="p">}</span>
  <span class="nx">allColorsSorted</span> <span class="o">=</span> <span class="nx">allColorsSorted</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">count</span> <span class="o">-</span> <span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">count</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">nameStyle</span> <span class="o">=</span> <span class="s2">"font-weight:normal;"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">countStyle</span> <span class="o">=</span> <span class="s2">"font-weight:bold;"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">colorStyle</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"background:"</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">";color:"</span> <span class="o">+</span> <span class="nx">color</span> <span class="o">+</span> <span class="s2">";border:1px solid #333;"</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"All colors used in elements on the page"</span><span class="p">);</span>
  <span class="nx">allColorsSorted</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">groupCollapsed</span><span class="p">(</span><span class="s2">"%c    %c "</span> <span class="o">+</span> <span class="nx">c</span><span class="p">.</span><span class="nx">key</span> <span class="o">+</span> <span class="s2">" %c("</span> <span class="o">+</span> <span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="s2">" times)"</span><span class="p">,</span>
      <span class="nx">colorStyle</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">key</span><span class="p">),</span> <span class="nx">nameStyle</span><span class="p">,</span> <span class="nx">countStyle</span><span class="p">);</span>
    <span class="nx">c</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">();</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"All colors used in elements on the page"</span><span class="p">);</span>
<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/performance.js">performance.js</a>
          <a id="performance" href="#performance">#</a>
        </h3>

        <p>
          Print out information about the <a href="https://developer.mozilla.org/en-US/docs/Navigation_timing">window.performance object</a>.  <em>Uses console.table and grouping to organize the information</em>.
        </p>
        <div class="screenshot">
          <img src="screenshots/performance.png" alt="performance.js snippet" title="performance.js snippet">
</div>
        <div class="snippet" data-src="snippets/performance.js">
<div class="highlight"><pre><span class="c1">// performance.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Print out window.performance information.</span>
<span class="c1">// https://developer.mozilla.org/en-US/docs/Navigation_timing</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">timing</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">timings</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Time Until Page Loaded"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">loadEventEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">navigationStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Time Until DOMContentLoaded"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">domContentLoadedEventEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">navigationStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Total Response Time"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">responseEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">requestStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Connection"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">connectEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">connectStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Response"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">responseEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">responseStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Domain Lookup"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">domainLookupEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">domainLookupStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Load Event"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">loadEventEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">loadEventStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"Unload Event"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">unloadEventEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">unloadEventStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>
  <span class="nx">timings</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"DOMContentLoaded Event"</span><span class="p">,</span>
    <span class="nx">time</span><span class="o">:</span> <span class="nx">t</span><span class="p">.</span><span class="nx">domContentLoadedEventEnd</span> <span class="o">-</span> <span class="nx">t</span><span class="p">.</span><span class="nx">domContentLoadedEventStart</span> <span class="o">+</span> <span class="s2">"ms"</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">navigation</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">navigation</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">navigationTypes</span> <span class="o">=</span> <span class="p">{</span> <span class="p">};</span>
  <span class="nx">navigationTypes</span><span class="p">[</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">TYPE_NAVIGATENEXT</span> <span class="o">||</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Navigation started by clicking on a link, or entering the URL in the user agent's address bar, or form submission."</span><span class="p">,</span>
  <span class="nx">navigationTypes</span><span class="p">[</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">TYPE_RELOAD</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Navigation through the reload operation or the location.reload() method."</span><span class="p">,</span>
  <span class="nx">navigationTypes</span><span class="p">[</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">TYPE_BACK_FORWARD</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Navigation through a history traversal operation."</span><span class="p">,</span>
  <span class="nx">navigationTypes</span><span class="p">[</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">TYPE_UNDEFINED</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Navigation type is undefined."</span><span class="p">,</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"window.performance"</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"Navigation Information"</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">navigationTypes</span><span class="p">[</span><span class="nx">navigation</span><span class="p">.</span><span class="nx">type</span><span class="p">]);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Number of redirects that have taken place: "</span><span class="p">,</span> <span class="nx">navigation</span><span class="p">.</span><span class="nx">redirectCount</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"Navigation Information"</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"Timing"</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">timing</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">timings</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"Timing"</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"window.performance"</span><span class="p">);</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/cssprettifier.js">cssprettifier.js</a>
          <a id="cssprettifier" href="#cssprettifier">#</a>
        </h3>

        <p>
          Script for unminifying and prettifying a CSS file written by
          <a href="http://addyosmani.com/">Addy Osmani</a> and
          <a href="http://sindresorhus.com/">Sindre Sorhus</a>.
          Check out the <a href="https://github.com/addyosmani/cssprettifier-bookmarklet">cssprettifier-bookmarklet project on github</a>.
        </p>
        <div class="screenshot">
          <img src="screenshots/cssprettifier.png" alt="cssprettifier.js snippet" title="cssprettifier.js snippet">
</div>
        <div class="snippet" data-src="snippets/cssprettifier.js">
<div class="highlight"><pre><span class="c1">// cssprettifier.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Unminify and prettify a CSS file.</span>

<span class="cm">/*</span>
<span class="cm"> * cssprettifier-bookmarklet</span>
<span class="cm"> * Copyright (c) 2013 Addy Osmani, Sindre Sorhus</span>
<span class="cm"> * CSSBeautify (c) Sencha, Ariya Hidayat</span>
<span class="cm"> * Prism (c) Lea Verou</span>
<span class="cm"> * Licensed under the MIT license.</span>
<span class="cm"> */</span>
 <span class="cm">/*globals document:true*/</span>
<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="s1">'use strict'</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">.</span><span class="nx">length</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"CSS Prettify: This page doesn't appear to be a stylesheet.  Make sure you run this on a css file"</span><span class="p">);</span>
       <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// cssbeautify</span>
  <span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"use strict"</span><span class="p">;</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">function</span> <span class="nx">s</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">" "</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="s2">"\n"</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="s2">"   "</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="s2">"\r"</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="s2">"\f"</span><span class="o">===</span><span class="nx">a</span><span class="p">}</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">"'"</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="s1">'"'</span><span class="o">===</span><span class="nx">a</span><span class="p">}</span><span class="kd">function</span> <span class="nx">u</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">h</span><span class="o">&gt;=</span><span class="s2">"a"</span><span class="o">&amp;&amp;</span><span class="s2">"z"</span><span class="o">&gt;=</span><span class="nx">h</span><span class="o">||</span><span class="nx">h</span><span class="o">&gt;=</span><span class="s2">"A"</span><span class="o">&amp;&amp;</span><span class="s2">"Z"</span><span class="o">&gt;=</span><span class="nx">h</span><span class="o">||</span><span class="nx">h</span><span class="o">&gt;=</span><span class="s2">"0"</span><span class="o">&amp;&amp;</span><span class="s2">"9"</span><span class="o">&gt;=</span><span class="nx">h</span><span class="o">||</span><span class="s2">"-_*.:#"</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">}</span><span class="kd">function</span> <span class="nx">v</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">m</span><span class="p">;</span><span class="nx">a</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span><span class="nx">a</span><span class="o">-=</span><span class="mi">1</span><span class="p">)</span><span class="nx">g</span><span class="o">+=</span><span class="nx">c</span><span class="p">.</span><span class="nx">indent</span><span class="p">}</span><span class="kd">function</span> <span class="nx">w</span><span class="p">(){</span><span class="nx">g</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">p</span><span class="o">?</span><span class="nx">g</span><span class="o">+=</span><span class="s2">" {"</span><span class="o">:</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"\n"</span><span class="p">,</span><span class="nx">v</span><span class="p">(),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"{"</span><span class="p">),</span><span class="s2">"\n"</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"\n"</span><span class="p">),</span><span class="nx">m</span><span class="o">+=</span><span class="mi">1</span><span class="p">}</span><span class="kd">function</span> <span class="nx">x</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">;</span><span class="nx">m</span><span class="o">-=</span><span class="mi">1</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">q</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s2">";"</span><span class="o">!==</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">"{"</span><span class="o">!==</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="s2">";"</span><span class="p">)),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"\n"</span><span class="p">,</span><span class="nx">v</span><span class="p">(),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"}"</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="s2">""</span><span class="p">}</span><span class="kd">var</span> <span class="nx">c</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="nx">p</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">q</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="p">{},</span><span class="nx">c</span><span class="p">.</span><span class="nx">indent</span><span class="o">===</span><span class="k">void</span> <span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">indent</span><span class="o">=</span><span class="s2">"    "</span><span class="p">),</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">c</span><span class="p">.</span><span class="nx">openbrace</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">=</span><span class="s2">"end-of-line"</span><span class="o">===</span><span class="nx">c</span><span class="p">.</span><span class="nx">openbrace</span><span class="p">),</span><span class="s2">"boolean"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">c</span><span class="p">.</span><span class="nx">autosemicolon</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">autosemicolon</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trimRight</span><span class="o">?</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">trimRight</span><span class="p">()}</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+$/</span><span class="p">,</span><span class="s2">""</span><span class="p">)},</span><span class="nx">l</span><span class="o">=</span><span class="p">{</span><span class="nx">Start</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">AtRule</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">Block</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">Selector</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="nx">Ruleset</span><span class="o">:</span><span class="mi">4</span><span class="p">,</span><span class="nx">Property</span><span class="o">:</span><span class="mi">5</span><span class="p">,</span><span class="nx">Separator</span><span class="o">:</span><span class="mi">6</span><span class="p">,</span><span class="nx">Expression</span><span class="o">:</span><span class="mi">7</span><span class="p">,</span><span class="nx">URL</span><span class="o">:</span><span class="mi">8</span><span class="p">},</span><span class="nx">m</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">,</span><span class="nx">o</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">[],</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\r\n/g</span><span class="p">,</span><span class="s2">"\n"</span><span class="p">);</span><span class="nx">e</span><span class="o">&gt;</span><span class="nx">d</span><span class="p">;)</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">d</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nx">d</span><span class="o">+=</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">(</span><span class="nx">n</span><span class="p">))</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">h</span><span class="o">===</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="s2">"\\"</span><span class="o">===</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">===</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="nx">i</span><span class="p">,</span><span class="nx">d</span><span class="o">+=</span><span class="mi">1</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">(</span><span class="nx">h</span><span class="p">))</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">h</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="s2">"*"</span><span class="o">===</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="s2">"/"</span><span class="o">===</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">g</span><span class="o">+=</span><span class="nx">i</span><span class="p">,</span><span class="nx">d</span><span class="o">+=</span><span class="mi">1</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="s2">"/"</span><span class="o">!==</span><span class="nx">h</span><span class="o">||</span><span class="s2">"*"</span><span class="o">!==</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">===</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">" "</span><span class="o">&gt;=</span><span class="nx">h</span><span class="o">||</span><span class="nx">h</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">128</span><span class="p">){</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">,</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">||</span><span class="s2">"["</span><span class="o">===</span><span class="nx">h</span><span class="o">||</span><span class="s2">"@"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="mi">0</span><span class="o">===</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="s2">"\n\n"</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">j</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">||</span><span class="s2">";"</span><span class="o">===</span><span class="nx">j</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="nx">g</span><span class="o">=</span><span class="nx">j</span><span class="o">+</span><span class="s2">"\n\n"</span><span class="p">;</span><span class="k">else</span> <span class="k">for</span><span class="p">(;;){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s2">" "</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="mi">9</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="k">break</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)}</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="s2">"@"</span><span class="o">===</span><span class="nx">h</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">AtRule</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">Selector</span><span class="p">;</span><span class="k">continue</span><span class="p">}}</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">AtRule</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">Block</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">Selector</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">Property</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">Separator</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">k</span><span class="o">!==</span><span class="nx">l</span><span class="p">.</span><span class="nx">Expression</span><span class="p">)</span><span class="nx">k</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">URL</span><span class="o">&amp;&amp;</span><span class="s2">")"</span><span class="o">===</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="s2">"\\"</span><span class="o">!==</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Expression</span><span class="p">)</span><span class="o">:</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">x</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">,</span><span class="nx">m</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Block</span><span class="p">);</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="s2">";"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">";\n"</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="s2">"("</span><span class="o">===</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="s2">"l"</span><span class="o">===</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">"r"</span><span class="o">===</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">"u"</span><span class="o">===</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">4</span><span class="p">)){</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">URL</span><span class="p">;</span><span class="k">continue</span><span class="p">}}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="p">(</span><span class="nx">h</span><span class="p">)){</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Expression</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="nx">t</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Expression</span><span class="p">)}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="s2">":"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">": "</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Expression</span><span class="p">,</span><span class="nx">s</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Separator</span><span class="p">);</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">x</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">,</span><span class="nx">m</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Block</span><span class="p">);</span><span class="k">continue</span><span class="p">}</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">x</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">,</span><span class="nx">m</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Block</span><span class="p">);</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="s2">"\n"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">g</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"\n"</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="p">(</span><span class="nx">h</span><span class="p">)){</span><span class="nx">g</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">g</span><span class="o">+=</span><span class="s2">"\n"</span><span class="p">,</span><span class="nx">v</span><span class="p">(),</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Property</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="s2">"{"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">w</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Ruleset</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">x</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="p">(</span><span class="nx">h</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">j</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="mi">0</span><span class="o">===</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="nx">f</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="o">=</span><span class="s2">"\n\n"</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">j</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">j</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="nx">g</span><span class="o">=</span><span class="nx">j</span><span class="o">+</span><span class="s2">"\n\n"</span><span class="p">;</span><span class="k">else</span> <span class="k">for</span><span class="p">(;;){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="s2">" "</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="mi">9</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="k">break</span><span class="p">;</span><span class="nx">g</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)}</span><span class="nx">v</span><span class="p">(),</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Selector</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="s2">"}"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">x</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="s2">";"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">Start</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="s2">"{"</span><span class="o">===</span><span class="nx">h</span><span class="p">){</span><span class="nx">j</span><span class="o">=</span><span class="nx">r</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="nx">w</span><span class="p">(),</span><span class="nx">k</span><span class="o">=</span><span class="s2">"@font-face"</span><span class="o">===</span><span class="nx">j</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">Ruleset</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">Block</span><span class="p">;</span><span class="k">continue</span><span class="p">}</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">}}</span><span class="k">else</span> <span class="nx">o</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">+=</span><span class="nx">h</span><span class="p">,</span><span class="nx">g</span><span class="o">+=</span><span class="nx">i</span><span class="p">,</span><span class="nx">d</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="nx">g</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="nx">g</span><span class="p">}</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">exports</span><span class="o">?</span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="o">=</span><span class="nx">exports</span><span class="o">=</span><span class="nx">a</span><span class="o">:</span><span class="s2">"object"</span><span class="o">==</span><span class="k">typeof</span> <span class="nb">window</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">cssbeautify</span><span class="o">=</span><span class="nx">a</span><span class="p">)})();</span>
  <span class="c1">// prism</span>
  <span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="sr">/\blang(?:uage)?-(?!\*)(\w+)\b/i</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">self</span><span class="p">.</span><span class="nx">Prism</span><span class="o">=</span><span class="p">{</span><span class="nx">util</span><span class="o">:</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\[object (\w+)\]/</span><span class="p">)[</span><span class="mi">1</span><span class="p">]},</span><span class="nx">clone</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">switch</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">case</span><span class="s2">"Object"</span><span class="o">:</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">]));</span><span class="k">return</span> <span class="nx">r</span><span class="p">;</span><span class="k">case</span><span class="s2">"Array"</span><span class="o">:</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">slice</span><span class="p">()}</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},</span><span class="nx">languages</span><span class="o">:</span><span class="p">{</span><span class="nx">extend</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">languages</span><span class="p">[</span><span class="nx">e</span><span class="p">]);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">n</span><span class="p">)</span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="k">return</span> <span class="nx">r</span><span class="p">},</span><span class="nx">insertBefore</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">languages</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">o</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">u</span> <span class="k">in</span> <span class="nx">s</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">u</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="nx">u</span><span class="o">==</span><span class="nx">n</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span> <span class="k">in</span> <span class="nx">r</span><span class="p">)</span><span class="nx">r</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">a</span><span class="p">]);</span><span class="nx">o</span><span class="p">[</span><span class="nx">u</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">u</span><span class="p">]}</span><span class="k">return</span> <span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">},</span><span class="nx">DFS</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span> <span class="k">in</span> <span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="nx">r</span><span class="p">]);</span><span class="nx">t</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">===</span><span class="s2">"Object"</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">DFS</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nx">n</span><span class="p">)}}},</span><span class="nx">highlightAll</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];)</span><span class="nx">t</span><span class="p">.</span><span class="nx">highlightElement</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="o">===!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">)},</span><span class="nx">highlightElement</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;!</span><span class="nx">e</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">))</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">||</span><span class="p">[,</span><span class="s2">""</span><span class="p">])[</span><span class="mi">1</span><span class="p">];</span><span class="nx">u</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">languages</span><span class="p">[</span><span class="nx">o</span><span class="p">]}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">u</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">r</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">""</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+/g</span><span class="p">,</span><span class="s2">" "</span><span class="p">)</span><span class="o">+</span><span class="s2">" language-"</span><span class="o">+</span><span class="nx">o</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span><span class="sr">/pre/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">className</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">""</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+/g</span><span class="p">,</span><span class="s2">" "</span><span class="p">)</span><span class="o">+</span><span class="s2">" language-"</span><span class="o">+</span><span class="nx">o</span><span class="p">);</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">textContent</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">f</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">f</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span><span class="s2">"&amp;amp;"</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;/g</span><span class="p">,</span><span class="s2">"&amp;lt;"</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&gt;/g</span><span class="p">,</span><span class="s2">"&amp;gt;"</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\u00a0/g</span><span class="p">,</span><span class="s2">" "</span><span class="p">);</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="p">{</span><span class="nx">element</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">language</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">grammar</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">code</span><span class="o">:</span><span class="nx">f</span><span class="p">};</span><span class="nx">t</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="s2">"before-highlight"</span><span class="p">,</span><span class="nx">l</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">self</span><span class="p">.</span><span class="nx">Worker</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">onmessage</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">l</span><span class="p">.</span><span class="nx">highlightedCode</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span><span class="nx">l</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">highlightedCode</span><span class="p">;</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="s2">"after-highlight"</span><span class="p">,</span><span class="nx">l</span><span class="p">)};</span><span class="nx">c</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="nx">language</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">language</span><span class="p">,</span><span class="nx">code</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">code</span><span class="p">}))}</span><span class="k">else</span><span class="p">{</span><span class="nx">l</span><span class="p">.</span><span class="nx">highlightedCode</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">highlight</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">code</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">grammar</span><span class="p">);</span><span class="nx">l</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">highlightedCode</span><span class="p">;</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="s2">"after-highlight"</span><span class="p">,</span><span class="nx">l</span><span class="p">)}},</span><span class="nx">highlight</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">){</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">tokenize</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">r</span><span class="p">))},</span><span class="nx">tokenize</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Token</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">],</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">rest</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span> <span class="k">in</span> <span class="nx">s</span><span class="p">)</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="k">delete</span> <span class="nx">n</span><span class="p">.</span><span class="nx">rest</span><span class="p">}</span><span class="nx">e</span><span class="o">:</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span> <span class="k">in</span> <span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">||!</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">])</span><span class="k">continue</span><span class="p">;</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">a</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">inside</span><span class="p">,</span><span class="nx">f</span><span class="o">=!!</span><span class="nx">u</span><span class="p">.</span><span class="nx">lookbehind</span><span class="o">||</span><span class="mi">0</span><span class="p">;</span><span class="nx">u</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">pattern</span><span class="o">||</span><span class="nx">u</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">l</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">break</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">c</span> <span class="k">instanceof</span> <span class="nx">r</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span><span class="nx">u</span><span class="p">.</span><span class="nx">lastIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="p">){</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span><span class="p">);</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">index</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="nx">f</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="nx">d</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">v</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nx">y</span><span class="o">=</span><span class="p">[</span><span class="nx">l</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span><span class="nx">m</span><span class="o">&amp;&amp;</span><span class="nx">y</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">m</span><span class="p">);</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">new</span> <span class="nx">r</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">a</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">tokenize</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">h</span><span class="p">);</span><span class="nx">y</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">y</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">g</span><span class="p">);</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">y</span><span class="p">)}}}</span><span class="k">return</span> <span class="nx">i</span><span class="p">},</span><span class="nx">hooks</span><span class="o">:</span><span class="p">{</span><span class="nx">all</span><span class="o">:</span><span class="p">{},</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">all</span><span class="p">;</span><span class="nx">r</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">||</span><span class="p">[];</span><span class="nx">r</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">n</span><span class="p">)},</span><span class="nx">run</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">all</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">r</span><span class="o">||!</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">];)</span><span class="nx">s</span><span class="p">(</span><span class="nx">n</span><span class="p">)}}},</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Token</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">content</span><span class="o">=</span><span class="nx">t</span><span class="p">};</span><span class="nx">n</span><span class="p">.</span><span class="nx">stringify</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">==</span><span class="s2">"string"</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">==</span><span class="s2">"[object Array]"</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">stringify</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span><span class="nx">content</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">content</span><span class="p">),</span><span class="nx">tag</span><span class="o">:</span><span class="s2">"span"</span><span class="p">,</span><span class="nx">classes</span><span class="o">:</span><span class="p">[</span><span class="s2">"token"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">],</span><span class="nx">attributes</span><span class="o">:</span><span class="p">{}};</span><span class="nx">r</span><span class="p">.</span><span class="nx">type</span><span class="o">==</span><span class="s2">"comment"</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">spellcheck</span><span class="o">=</span><span class="s2">"true"</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">hooks</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="s2">"wrap"</span><span class="p">,</span><span class="nx">r</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="s2">""</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">s</span> <span class="k">in</span> <span class="nx">r</span><span class="p">.</span><span class="nx">attributes</span><span class="p">)</span><span class="nx">i</span><span class="o">+=</span><span class="nx">s</span><span class="o">+</span><span class="s1">'="'</span><span class="o">+</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">||</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="s1">'"'</span><span class="p">;</span><span class="k">return</span><span class="s2">"&lt;"</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">tag</span><span class="o">+</span><span class="s1">' class="'</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">classes</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">" "</span><span class="p">)</span><span class="o">+</span><span class="s1">'" '</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"&gt;"</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">content</span><span class="o">+</span><span class="s2">"&lt;/"</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">tag</span><span class="o">+</span><span class="s2">"&gt;"</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">self</span><span class="p">.</span><span class="nb">document</span><span class="p">){</span><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"message"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">language</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">code</span><span class="p">;</span><span class="nx">self</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">tokenize</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">languages</span><span class="p">[</span><span class="nx">r</span><span class="p">])));</span><span class="nx">self</span><span class="p">.</span><span class="nx">close</span><span class="p">()},</span><span class="o">!</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">r</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">filename</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">src</span><span class="p">;</span><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">&amp;&amp;!</span><span class="nx">r</span><span class="p">.</span><span class="nx">hasAttribute</span><span class="p">(</span><span class="s2">"data-manual"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"DOMContentLoaded"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">highlightAll</span><span class="p">)}})();;</span>
  <span class="nx">Prism</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">css</span><span class="o">=</span><span class="p">{</span><span class="nx">comment</span><span class="o">:</span><span class="sr">/\/\*[\w\W]*?\*\//g</span><span class="p">,</span><span class="nx">atrule</span><span class="o">:</span><span class="sr">/@[\w-]+?(\s+[^;{]+)?(?=\s*{|\s*;)/gi</span><span class="p">,</span><span class="nx">url</span><span class="o">:</span><span class="sr">/url\((["']?).*?\1\)/gi</span><span class="p">,</span><span class="nx">selector</span><span class="o">:</span><span class="sr">/[^\{\}\s][^\{\}]*(?=\s*\{)/g</span><span class="p">,</span><span class="nx">property</span><span class="o">:</span><span class="sr">/(\b|\B)[a-z-]+(?=\s*:)/ig</span><span class="p">,</span><span class="nx">string</span><span class="o">:</span><span class="sr">/("|')(\\?.)*?\1/g</span><span class="p">,</span><span class="nx">important</span><span class="o">:</span><span class="sr">/\B!important\b/gi</span><span class="p">,</span><span class="nx">ignore</span><span class="o">:</span><span class="sr">/&amp;(lt|gt|amp);/gi</span><span class="p">,</span><span class="nx">punctuation</span><span class="o">:</span><span class="sr">/[\{\};:]/g</span><span class="p">};</span><span class="nx">Prism</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">markup</span><span class="o">&amp;&amp;</span><span class="nx">Prism</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="s2">"markup"</span><span class="p">,</span><span class="s2">"tag"</span><span class="p">,{</span><span class="nx">style</span><span class="o">:</span><span class="p">{</span><span class="nx">pattern</span><span class="o">:</span><span class="sr">/(&amp;lt;|&lt;)style[\w\W]*?(&gt;|&amp;gt;)[\w\W]*?(&amp;lt;|&lt;)\/style(&gt;|&amp;gt;)/ig</span><span class="p">,</span><span class="nx">inside</span><span class="o">:</span><span class="p">{</span><span class="nx">tag</span><span class="o">:</span><span class="p">{</span><span class="nx">pattern</span><span class="o">:</span><span class="sr">/(&amp;lt;|&lt;)style[\w\W]*?(&gt;|&amp;gt;)|(&amp;lt;|&lt;)\/style(&gt;|&amp;gt;)/ig</span><span class="p">,</span><span class="nx">inside</span><span class="o">:</span><span class="nx">Prism</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">markup</span><span class="p">.</span><span class="nx">tag</span><span class="p">.</span><span class="nx">inside</span><span class="p">},</span><span class="nx">rest</span><span class="o">:</span><span class="nx">Prism</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">css</span><span class="p">}}});</span>

  <span class="kd">var</span> <span class="nx">prismStyle</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'style'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">beautified</span> <span class="o">=</span> <span class="nx">cssbeautify</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">textContent</span><span class="p">,</span> <span class="p">{</span><span class="nx">autosemicolon</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
  <span class="kd">var</span> <span class="nx">highlighted</span> <span class="o">=</span> <span class="nx">Prism</span><span class="p">.</span><span class="nx">highlight</span><span class="p">(</span><span class="nx">beautified</span><span class="p">,</span> <span class="nx">Prism</span><span class="p">.</span><span class="nx">languages</span><span class="p">.</span><span class="nx">css</span><span class="p">);</span>

  <span class="nx">prismStyle</span><span class="p">.</span><span class="nx">textContent</span> <span class="o">=</span> <span class="s1">'code[class*="language-"],pre[class*="language-"]{color:black;text-shadow:0 1px white;font-family:Consolas,Monaco,\'Andale Mono\',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}@media print{code[class*="language-"],pre[class*="language-"]{text-shadow:none;}}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto;}:not(pre) &gt; code[class*="language-"],pre[class*="language-"]{background:#f5f2f0;}:not(pre) &gt; code[class*="language-"]{padding:.1em;border-radius:.3em;}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray;}.token.punctuation{color:#999;}.namespace{opacity:.7;}.token.property,.token.tag,.token.boolean,.token.number{color:#905;}.token.selector,.token.attr-name,.token.string{color:#690;}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5);}.token.atrule,.token.attr-value,.token.keyword{color:#07a;}.token.regex,.token.important{color:#e90;}.token.important{font-weight:bold;}.token.entity{cursor:help;}'</span><span class="p">;</span>

  <span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">prismStyle</span><span class="p">);</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;code&gt;&lt;pre&gt;'</span> <span class="o">+</span> <span class="nx">highlighted</span> <span class="o">+</span> <span class="s1">'&lt;/pre&gt;&lt;/code&gt;'</span><span class="p">;</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/hashlink.js">hashlink.js</a>
          <a id="hashlink" href="#hashlink">#</a>
        </h3>

        <p>
          Handy way to find the closest linkable element on a page.  Run it, then click on an element, and it will give you the closest #link to that page.
        </p>
        <div class="screenshot">
          <img src="screenshots/hashlink.png" alt="hashlink.js snippet" title="hashlink.js snippet">
</div>
        <div class="screenshot">
          <img src="screenshots/hashlink.gif" alt="hashlink.js snippet" title="hashlink.js snippet">
</div>
        <div class="snippet" data-src="snippets/hashlink.js">
<div class="highlight"><pre><span class="c1">// hashlink.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Click on an element to print out the closest hash link.</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">function</span> <span class="nx">logHashlink</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

    <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="nx">logHashlink</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">node</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">tagName</span> <span class="o">===</span> <span class="s2">"A"</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">id</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">id</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">URL</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">origin</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"Hashlink"</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Clicked on "</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">id</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"No ID Found - closest anchor: "</span> <span class="o">+</span>  <span class="nx">URL</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Closest linkable element: "</span><span class="p">,</span> <span class="nx">node</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">URL</span> <span class="o">+</span> <span class="s2">"#"</span> <span class="o">+</span> <span class="nx">id</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"Hashlink"</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="nx">logHashlink</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

  <span class="k">return</span> <span class="s2">"hashlink: Click on an element to log it's closest hash link"</span><span class="p">;</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<h3>
          <a href="snippets/querystringvalues.js">querystringvalues.js</a>
          <a id="querystringvalues" href="#querystringvalues">#</a>
        </h3>

        <p>
          Print a table of query string (GET) values.  This can be helpful, especially when trying to read the values from a long or complicated URL that may otherwise need to be pasted into another editor to read.  Implementation by <a href="https://github.com/mattpass">mattpass</a>.
        </p>
        <div class="screenshot">
          <img src="screenshots/querystringvalues.png" alt="querystringvalues.js snippet" title="querystringvalues.js snippet">
</div>
        <div class="snippet" data-src="snippets/querystringvalues.js">
<div class="highlight"><pre><span class="c1">// querystringvalues.js</span>
<span class="c1">// https://github.com/bgrins/devtools-snippets</span>
<span class="c1">// Print out key/value pairs from querystring.</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">location</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">querystring</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">tab</span> <span class="o">=</span> <span class="nx">querystring</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"&amp;"</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">qs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s2">"Key"</span><span class="o">:</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"="</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">"Value"</span><span class="o">:</span> <span class="nx">qs</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"="</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">"Pretty Value"</span><span class="o">:</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">qs</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"="</span><span class="p">)[</span><span class="mi">1</span><span class="p">]).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\+/g</span><span class="p">,</span><span class="s2">" "</span><span class="p">)</span> <span class="p">}</span>
  <span class="p">});</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="s2">"Querystring Values"</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"URL: "</span><span class="o">+</span><span class="nx">url</span><span class="o">+</span><span class="s2">"\nQS:  "</span><span class="o">+</span><span class="nx">querystring</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">tab</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="s2">"Querystring Values"</span><span class="p">);</span>

<span class="p">})();</span>
</pre></div>
</div>
        <hr>
<div id="footer">
          <strong>devtools-snippets</strong> is maintained by <a href="http://twitter.com/bgrins">@bgrins</a> and <a href="https://github.com/bgrins/devtools-snippets/network/members">contributors</a>.  Please let me know if you want to add or change any snippets by <a href="https://github.com/bgrins/devtools-snippets/issues">opening an issue or pull request</a>.
        </div>
      </div>
    </div>
  </body>
</html>
